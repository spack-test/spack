.all:
  tags: ["spack", "public", "aws", "x86_64"]
  image: "ghcr.io/spack/python-aws-bash:0.0.1"

.pr:
  extends: [".all"]
  only:
  - /^pr[\d]+_.*$/

.protected:
  extends: [".all"]
  only:
  - /^main$/

pr_job:
  extends: [".pr"]
  script:
    - echo "third pass at PR job"
    - echo "PR script - v4"
    - echo "PR script - v5"
    - echo "PR script - v6"

protected_job:
  extends: [".protected"]
  script:
    - echo "third pass at protected job"
    - echo "protected script - v4"
    - echo "protected script - v5"
    - echo "protected script - v6"
